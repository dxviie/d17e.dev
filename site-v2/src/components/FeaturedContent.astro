---
interface FeaturedContentProps {
    title: string;
    href: string;
    imageUrl: string;
    imageAlt?: string;
    compact?: boolean;
}

const {
    title,
    href,
    imageUrl,
    imageAlt = title,
    compact = false,
} = Astro.props;
---

<a class:list={["featured-card", { compact }]} href={href}>
    <div class="featured-media">
        <img
            class="featured-image"
            src={imageUrl}
            alt={imageAlt}
            loading="lazy"
        />
        <div class="link-indicator">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M7 17L17 7"></path>
                <path d="M7 7h10v10"></path>
            </svg>
        </div>
        {
            !compact && (
                <div class="featured-overlay">
                    <h3 class="featured-title">{title}</h3>
                </div>
            )
        }
    </div>
</a>

<style>
    .featured-card {
        display: block;
        margin: 1.5rem 0;
        padding: 0;
        border-radius: 8px;
        overflow: hidden;
        text-decoration: none;
        transition:
            transform 0.2s ease,
            box-shadow 0.2s ease;
    }

    .featured-card:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        opacity: 1;
    }

    .featured-media {
        position: relative;
        width: 100%;
        aspect-ratio: 16 / 9;
        overflow: hidden;
        border: 1px solid var(--border-color);
        border-radius: 8px;
    }

    .featured-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
        transition: transform 0.3s ease;
    }

    .featured-card:hover .featured-image {
        transform: scale(1.02);
    }

    .link-indicator {
        position: absolute;
        top: 0.5rem;
        right: 0.5rem;
        padding: 0.35rem;
        background: rgba(0, 0, 0, 0.5);
        border-radius: 4px;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0.7;
        transition: opacity 0.2s ease, transform 0.2s ease;
    }

    .featured-card:hover .link-indicator {
        opacity: 1;
        transform: translate(2px, -2px);
    }

    .featured-overlay {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        padding: 1rem;
        background: linear-gradient(transparent, rgba(0, 0, 0, 0.75));
    }

    .featured-title {
        font-family: "nudica_monobold", serif;
        font-size: 1.1rem;
        margin: 0;
        color: white;
        text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
    }

    /* Compact mode */
    .featured-card.compact {
        margin: 1rem 0;
    }

    .featured-card.compact .featured-media {
        aspect-ratio: 1;
    }

    @media (max-width: 768px) {
        .featured-title {
            font-size: 1rem;
        }
    }
</style>
